!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):e.cep=r()}(this,function(){"use strict";function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.message,o=e.service;this.name="ServiceError",this.message=r,this.service=o}function r(r){return new Promise(function(r,o){var t=new e({message:"O serviço dos Correios não aceita requests via Browser (CORS).",service:"correios"});o(t)})}function o(e){var r="https://viacep.com.br/ws/"+e+"/json/",o={method:"GET",mode:"cors",headers:{"content-type":"application/json;charset=utf-8"}};return S(r,o).then(t).then(n).then(s).catch(i)}function t(e){if(e.ok)return e.json();throw Error("Erro ao se conectar com o serviço ViaCEP.")}function n(e){if(e.erro===!0)throw new Error("CEP não encontrado na base do ViaCEP.");return e}function s(e){return{cep:e.cep.replace("-",""),state:e.uf,city:e.localidade,neighborhood:e.bairro,street:e.logradouro}}function i(r){var o=new e({message:r.message,service:"viacep"});throw"FetchError"===r.name&&(o.message="Erro ao se conectar com o serviço ViaCEP."),o}function a(e){var r="https://cors.now.sh/http://www.cepaberto.com/api/v2/ceps.json?cep="+e,o={method:"GET",mode:"cors",headers:{"content-type":"application/json;charset=utf-8",Authorization:'Token token="37bfda18fd4b423cdb6748d14ba30aa6"'}};return S(r,o).then(c).then(u).then(f).catch(h)}function c(e){if(e.ok)return e.json();throw Error("Erro ao se conectar com o serviço Cep Aberto.")}function u(e){if(!Object.keys(e).length)throw new Error("CEP não encontrado na base do Cep Aberto.");return e}function f(e){return{cep:e.cep,state:e.estado,city:e.cidade,neighborhood:e.bairro,street:e.logradouro}}function h(r){var o=new e({message:r.message,service:"cepaberto"});throw"FetchError"===r.name&&(o.message="Erro ao se conectar com o serviço Cep Aberto."),o}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.message,o=e.type,t=e.errors;this.name="CepPromiseError",this.message=r,this.type=o,this.errors=t}function d(e){return Promise.resolve(e).then(m).then(l).then(w).then(v).then(y).catch(g).catch(b)}function m(e){var r="undefined"==typeof e?"undefined":j(e);if("number"===r||"string"===r)return e;throw new p({message:"Erro ao inicializar a instância do CepPromise.",type:"validation_error",errors:[{message:"Você deve chamar o construtor utilizando uma String ou um Number.",service:"cep_validation"}]})}function l(e){return e.toString().replace(/\D+/g,"")}function v(e){return"0".repeat(T-e.length)+e}function w(e){if(e.length<=T)return e;throw new p({message:"CEP deve conter exatamente "+T+" caracteres.",type:"validation_error",errors:[{message:"CEP informado possui mais do que "+T+" caracteres.",service:"cep_validation"}]})}function y(e){return Promise.any([r(e),o(e),a(e)])}function g(e){if(void 0!==e.length)throw new p({message:"Todos os serviços de CEP retornaram erro.",type:"service_error",errors:e});throw e}function b(e){var r=e.message,o=e.type,t=e.errors;throw new p({message:r,type:o,errors:t})}e.prototype=new Error;var E="function"==typeof fetch?fetch.bind():function(e,r){return r=r||{},new Promise(function(o,t){function n(){var e,r=[],o=[],t={};return s.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(n,s,i){r.push(s=s.toLowerCase()),o.push([s,i]),e=t[s],t[s]=e?e+","+i:i}),{ok:1==(s.status/200|0),status:s.status,statusText:s.statusText,url:s.responseURL,clone:n,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},headers:{keys:function(){return r},entries:function(){return o},get:function(e){return t[e.toLowerCase()]},has:function(e){return e.toLowerCase()in t}}}}var s=new XMLHttpRequest;s.open(r.method||"get",e);for(var i in r.headers)s.setRequestHeader(i,r.headers[i]);s.withCredentials="include"==r.credentials,s.onload=function(){o(n())},s.onerror=t,s.send(r.body)})},P=Object.freeze({default:E}),C=P&&E||P,S=window.fetch||(window.fetch=C.default||C);p.prototype=new Error;var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(e){if(Array.isArray(e)){for(var r=0,o=Array(e.length);r<e.length;r++)o[r]=e[r];return o}return Array.from(e)},x=function(e){return new Promise(function(r,o){return Promise.resolve(e).then(o,r)})};Promise.any=function(e){return x(Promise.all([].concat(A(e)).map(x)))};var T=8;return d});